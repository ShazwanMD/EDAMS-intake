<td-layout-nav>
  <div toolbar-content layout="row" layout-align="center center" flex>
    <span>PAMS: Postgraduate Management System</span>
    <span flex></span>
  </div>

  <td-layout-card-over>
    <form [formGroup]="applicationForm">
      <div layout="row" layout-align="start center">
        <div>
          <md-card-title>Intake Application</md-card-title>
          <md-card-subtitle>Intake Registration for Session 201720181</md-card-subtitle>
        </div>
      </div>
      <md-divider></md-divider>
      <md-tab-group (selectChange)="onTabChange($event)" md-stretch-tabs>
        <md-tab>

          <template md-tab-label>Detail Of Candidate</template>
          <td-expansion-panel label="Program Choices">
            <pams-program-choice [intakeApplication]="intakeApplication$ | async">
            </pams-program-choice>


            <div flex class="pad inset" flex>
              <p class="md-title tc-grey-600">Your research title :</p>
              <md-input-container flex>
                <input mdInput placeholder="Research Title" formControlName="researchTitle" flex/>
              </md-input-container>
            </div>
          </td-expansion-panel>

          <td-expansion-panel label="Personal Details">
            <div layout="row" class="inset" layout-wrap hide-xs hide-sm class="push-sm">
              <!-- first column -->
              <div layout="column" class="pad-right" flex>
                <div layout="row" class="pad-bottom" flex>
                  <md-input-container flex>
                    <input mdInput placeholder="Name" formControlName="name" flex/>
                  </md-input-container>
                </div>

                <div layout="row" class="pad-bottom" flex>
                  <md-input-container flex>
                    <input mdInput placeholder="Email" formControlName="email" flex/>
                  </md-input-container>
                </div>

                <div layout="row" class="pad-bottom" flex>
                  <md-input-container flex>
                    <input mdInput placeholder="NRIC/Passport" formControlName="credentialNo" flex/>
                  </md-input-container>
                </div>


                <div layout="row" class="pad-bottom" flex>
                  <md-input-container flex>
                    <input mdInput type="date" placeholder="Passport Expired Date" formControlName="passExpDate" flex/>
                  </md-input-container>
                </div>

                <div layout="row" class="pad-bottom" flex>
                  <md-input-container flex>
                    <input mdInput type="date" placeholder="Date of Birth" formControlName="birthDate" flex/>
                  </md-input-container>
                </div>

                <div layout="row" class="pad-top">
                  <pams-nationality-code-select [placeholder]="'Nationality'" [innerFormControl]="applicationForm.controls.nationalityCode">
                  </pams-nationality-code-select>
                </div>


                <div layout="row" class="pad-top">
                  <pams-race-code-select [placeholder]="'Race'" [innerFormControl]="applicationForm.controls.raceCode">
                  </pams-race-code-select>
                </div>

                <div layout="row" class="pad-top">
                  <pams-marital-code-select [placeholder]="'Marital'" [innerFormControl]="applicationForm.controls.maritalCode">
                  </pams-marital-code-select>
                </div>



              </div>

              <!-- second column -->
              <div layout="column" class="pad-right" flex>
                <div layout="row" class="pad-bottom" flex>
                  <md-input-container flex>
                    <input mdInput placeholder="Phone No" formControlName="mobile" flex/>
                  </md-input-container>
                </div>

                <div layout="row" class="pad-bottom" flex>
                  <md-input-container flex>
                    <input mdInput placeholder="Office No" formControlName="phone" flex/>
                  </md-input-container>
                </div>

                <div layout="row" class="pad-bottom" flex>
                  <md-input-container flex>
                    <input mdInput placeholder="Fax No" formControlName="fax" flex/>
                  </md-input-container>
                </div>

                <div layout="row" class="pad-top">
                  <pams-ethnicity-code-select [placeholder]="'Ethnicity'" [innerFormControl]="applicationForm.controls.ethnicityCode">
                  </pams-ethnicity-code-select>
                </div>

                <div layout="row" class="pad-top">
                  <pams-gender-code-select [placeholder]="'Gender'" [innerFormControl]="applicationForm.controls.genderCode">
                  </pams-gender-code-select>
                </div>

                <div layout="row" class="pad-top">
                  <pams-religion-code-select [placeholder]="'Religion'" [innerFormControl]="applicationForm.controls.religionCode">
                  </pams-religion-code-select>
                </div>
              </div>
            </div>
          </td-expansion-panel>
        </md-tab>

        <md-tab>
          <template md-tab-label>Address Information</template>
          <td-expansion-panel label="Address Detail">
            <div layout="row" class="inset" layout-wrap hide-xs hide-sm class="push-sm">
              <div layout="column" class="pad-right" flex>

                Mailing Address

                <div layout="row" class="pad-bottom" flex>
                  <md-input-container flex>
                    <input mdInput placeholder="Address 1" formControlName="mailingAddress1" flex/>
                  </md-input-container>
                </div>

                <div layout="row" class="pad-bottom" flex>
                  <md-input-container flex>
                    <input mdInput placeholder="Address 2" formControlName="mailingAddress2" flex/>
                  </md-input-container>
                </div>

                <div layout="row" class="pad-bottom" flex>
                  <md-input-container flex>
                    <input mdInput placeholder="Address 3" formControlName="mailingAddress3" flex/>
                  </md-input-container>
                </div>

                <div layout="row" class="pad-bottom" flex>
                  <md-input-container flex>
                    <input mdInput placeholder="Postcode" formControlName="mailingPostcode" flex/>
                  </md-input-container>
                </div>

                <div layout="row" class="pad-top">
                  <pams-state-code-select [placeholder]="'State'" [innerFormControl]="applicationForm.controls.mailingStateCode">
                  </pams-state-code-select>
                </div>

                <div layout="row" class="pad-top">
                  <pams-country-code-select [placeholder]="'Country'" [innerFormControl]="applicationForm.controls.mailingCountryCode">
                  </pams-country-code-select>
                </div>
               
              </div>
            </div>


            <div layout="row" class="inset" layout-wrap hide-xs hide-sm class="push-sm">
              <div layout="column" class="pad-right" flex>

            <p style="white-space: pre">{{text}}</p>
                Official Address
                

                <div layout="row" class="pad-bottom" flex>
                  <md-input-container flex>
                    <input mdInput placeholder="Address 1" formControlName="officialAddress1" flex/>
                  </md-input-container>
                </div>

                <div layout="row" class="pad-bottom" flex>
                  <md-input-container flex>
                    <input mdInput placeholder="Address 2" formControlName="officialAddress2" flex/>
                  </md-input-container>
                </div>

                <div layout="row" class="pad-bottom" flex>
                  <md-input-container flex>
                    <input mdInput placeholder="Address 3" formControlName="officialAddress3" flex/>
                  </md-input-container>
                </div>

                <div layout="row" class="pad-bottom" flex>
                  <md-input-container flex>
                    <input mdInput placeholder="Postcode" formControlName="officialPostcode" flex/>
                  </md-input-container>
                </div>

                <div layout="row" class="pad-top">
                  <pams-state-code-select [placeholder]="'State'" [innerFormControl]="applicationForm.controls.officialStateCode">
                  </pams-state-code-select>
                </div>

                <div layout="column" class="pad-right" flex>

                  <div layout="row" class="pad-top" flex>
                    <pams-country-code-select [placeholder]="'Country'" [innerFormControl]="applicationForm.controls.officialCountryCode">
                    </pams-country-code-select>
                  </div>
                </div>
              </div>
            </div>
          </td-expansion-panel>
        </md-tab>

        <md-tab>
          <md-card>
            <template md-tab-label>Working Experience</template>
            <td-expansion-panel label="Working Experience">
              <pams-employment-list [intakeApplication]="intakeApplication$ | async" [employments]="employments$ | async"></pams-employment-list>
            </td-expansion-panel>
          </md-card>
        </md-tab>


        <md-tab>
          <md-card>
            <template md-tab-label>Academic Qualification</template>

            <td-expansion-panel label="Proficiency in Malay/English Language">
              <pams-language-list [intakeApplication]="intakeApplication$ | async" [languages]="languages$ | async">
              </pams-language-list>
            </td-expansion-panel>

            <!--<td-expansion-panel label="SPM Qualifications">
              <pams-spm-result-list
                [intakeApplication]="intakeApplication$ | async"
                [spmResults]="spmResults$ | async"></pams-spm-result-list>
            </td-expansion-panel>-->

            <!--<template md-tab-label>Bachelor Information</template>

            <td-expansion-panel label="Bachelor Qualification">
              <pams-bachelor-result-list
                [intakeApplication]="intakeApplication$ | async"
                [bachelorResults]="bachelorResults$ | async"></pams-bachelor-result-list>
            </td-expansion-panel>-->

            <!--<template md-tab-label>Diploma Information</template>

            <td-expansion-panel label="Diploma Qualification">
              <pams-diploma-result-list
                [intakeApplication]="intakeApplication$ | async"
                [diplomaResults]="diplomaResults$ | async"></pams-diploma-result-list>
            </td-expansion-panel>-->

            <td-expansion-panel label="SPM Qualification">
              <div layout="column" class="inset">
                <div layout="row" class="pad-bottom">
                  <span flex="20">School</span>
                  <span>Sekolah Datuk Abdul Razak</span>
                </div>
                <div layout="row" class="pad-bottom">
                  <span flex="20">School Type</span>
                  <span>Sekolah Berasrama Penuh</span>
                </div>
                <div layout="row" class="pad-bottom">
                  <span flex="20">Graduation Year</span>
                  <span>1993</span>
                </div>
              </div>
              <md-divider></md-divider>
              <div toolbar-buttons layout="row" layout-align="start center" flex>
                <span flex></span>
                <button md-button class="md-icon-button" click="create()">
                  <md-icon class="md-24 tc-grey-700">add</md-icon>
                </button>
                <button md-button class="md-icon-button" (click)="edit(selectedRows[0])">
                 <md-icon class="md-24 tc-grey-300">edit</md-icon>
                </button>
                <button md-button class="md-icon-button" (click)="delete(selectedRows[0])">
                <md-icon class="md-24 tc-grey-300">delete</md-icon>
                </button>

              </div>
              <md-divider></md-divider>
              <div class="inset">
                <td-data-table [data]="dummyData" [columns]="dummyColumns" [sortBy]="summary" [sortOrder]="ASC" [sortable]="false" [multiple]="false"
                  [selectable]="false" (rowSelect)="view.emit($event)" dense>
                  <template tdDataTableTemplate="key" let-value="value" let-row="row" let-column="column">
                    <div layout="row">
                      <span flex>{{value}}</span>
                    </div>
                  </template>
                </td-data-table>
              </div>
            </td-expansion-panel>

            <td-expansion-panel label="Diploma Qualification">
              <div layout="column" class="inset">
                <div layout="row" class="pad-bottom">
                  <span flex="20">University/College</span>
                  <span>Kolej Keusahawanan MARA</span>
                </div>
                <div layout="row" class="pad-bottom">
                  <span flex="20">Graduation Year</span>
                  <span>2011</span>
                </div>
                <div layout="row" class="pad-bottom">
                  <span flex="20">CGPA</span>
                  <span>3.44</span>
                </div>
              </div>
            </td-expansion-panel>

            <td-expansion-panel label="Bachelor Qualification">
              <div layout="column" class="inset">
                <div layout="row" class="pad-bottom">
                  <span flex="20">University/College</span>
                  <span>Universiti Malaysia Kelantan</span>
                </div>
                <div layout="row" class="pad-bottom">
                  <span flex="20">Graduation Year</span>
                  <span>2015</span>
                </div>
                <div layout="row" class="pad-bottom">
                  <span flex="20">CGPA</span>
                  <span>3.44</span>
                </div>
              </div>
            </td-expansion-panel>
          </md-card>
        </md-tab>

        <md-tab>
          <template md-tab-label>Documents</template>

          <td-expansion-panel label="Financial Support">
            <md-card-subtitle>Please choose either one of the following financial Support</md-card-subtitle>
            <div layout="row" class="inset" layout-wrap hide-xs hide-sm class="push-sm">
              <div layout="row" layout-wrap hide-xs hide-sm class="push-sm">
                <md-checkbox formControlName="sponsored">
                  <div layout="column" flex>
                    Sponsor by Employer / Government. Please attach letter from Sponsor.
                  </div>
                </md-checkbox>
              </div>

              <div layout="row" layout-wrap hide-xs hide-sm class="push-sm">
                <md-checkbox formControlName="selfSponsored">
                  <div layout="column" flex>
                    Self Supporting . Please enclose financial guarantee or bank statement.
                  </div>
                </md-checkbox>
              </div>
            </div>
          </td-expansion-panel>

          <td-expansion-panel label="Referees">
            <pams-referee-list [intakeApplication]="intakeApplication$ | async" [referees]="referees$ | async">
            </pams-referee-list>
          </td-expansion-panel>

          <td-expansion-panel label="Attachments">
            <pams-attachment-list [intakeApplication]="intakeApplication$ | async" [attachments]="attachments$ | async">
            </pams-attachment-list>
          </td-expansion-panel>

          <md-card>
            <td-expansion-panel label="Upload Document Checklist">
              <md-card-subtitle>Please check all the uploaded attachments below</md-card-subtitle>
              <div layout="row" class="pad-bottom" flex>
                <md-checkbox formControlName="processingFeeAttached">
                  <div layout="column" flex>
                    Processing fees Receipt
                  </div>
                </md-checkbox>
              </div>

              <div layout="row" class="pad-bottom" flex>
                <md-checkbox formControlName="languageResultAttached">
                  <div layout="column" class="pad-bottom" flex>
                    Language Result
                  </div>
                </md-checkbox>
              </div>

              <div layout="row" class="pad-bottom" flex>
                <md-checkbox formControlName="toeflResultAttached">
                  <div layout="row" class="pad-bottom" flex>
                    TOEFL (Foreign Only)
                  </div>
                </md-checkbox>
              </div>

              <div layout="row" class="pad-bottom" flex>
                <md-checkbox formControlName="ieltsResultAttached">
                  <div layout="row" class="pad-bottom" flex>
                    IELTS Result (Foreign Only)
                  </div>
                </md-checkbox>
              </div>

              <div layout="row" class="pad-bottom" flex>
                <md-checkbox formControlName="spmResultAttached">
                  <div layout="column" flex>
                    Spm Result
                  </div>
                </md-checkbox>
              </div>

              <div layout="row" class="pad-bottom" flex>
                <md-checkbox formControlName="stpmResultAttached">
                  <div layout="column" flex>
                    Stpm Result
                  </div>
                </md-checkbox>
              </div>

              <div layout="row" class="pad-bottom" flex>
                <md-checkbox formControlName="diplomaResultAttached">
                  <div layout="column" flex>
                    Diploma Result
                  </div>
                </md-checkbox>
              </div>

              <div layout="row" class="pad-bottom" flex>
                <md-checkbox formControlName="bachelorResultAttached">
                  <div layout="column" flex>
                    Bachelor Result
                  </div>
                </md-checkbox>
              </div>

              <div layout="row" class="pad-bottom" flex>
                <md-checkbox formControlName="sponsorLetterAttached">
                  <div layout="column" flex>
                    Letter From Sponsor
                  </div>
                </md-checkbox>
              </div>

              <div layout="row" class="pad-bottom" flex>
                <md-checkbox formControlName="bankStatementAttached">
                  <div layout="column" flex>
                    Bank Statement
                  </div>
                </md-checkbox>
              </div>

              <div layout="row" class="pad-bottom" flex>
                <md-checkbox formControlName="refereeFormAttached">
                  <div layout="column" flex>
                    Referee Form
                  </div>
                </md-checkbox>
              </div>

              <div layout="row" class="pad-bottom" flex>
                <md-checkbox formControlName="researchProposalAttached">
                  <div layout="column" flex>
                    Research Proposal
                  </div>
                </md-checkbox>
              </div>
            </td-expansion-panel>
          </md-card>
        </md-tab>

        <md-tab>
          <template md-tab-label>Submit Application</template>
          <div flex class="pad inset" tdMediaToggle="gt-xs" [mediaClasses]="['pad-sm']">
            <div class="push-top-sm"></div>
            <md-card-title>Declaration</md-card-title>

            <md-card-subtitle>Submit Application for Intake September 2017</md-card-subtitle>
            <div layout="row" layout-wrap hide-xs hide-sm class="push-sm">
              <md-checkbox formControlName="declared">
                <div layout="column" flex>
                  I declare that the statements made in this application form are correct. I am fully aware that UMK reserves the right to
                  reject my application or terminate my candidature if the information given above is incorrect or incomplete.
                </div>
              </md-checkbox>
            </div>
            <div layout="row" layout-align="start center">
              <button md-raised-button color="accent" (click)="submit(applicationForm.value, applicationForm.valid)">
                Submit
              </button>
            </div>
          </div>
          <div class="push-top-sm"></div>
        </md-tab>
      </md-tab-group>
    </form>
  </td-layout-card-over>
</td-layout-nav>